@model Evection

@{ 
    List<City> citys = ViewBag.Citys;
    if (Model != null)
    {
        ViewBag.CityIds = Model.CityIds;
    }
}

<div class="ibox">
    <div class="ibox-title">
        <h5>出差基础详情</h5>
        <div class="ibox-tools">
            <a class="collapse-link">
                <i class="fa fa-chevron-up"></i>
            </a>
        </div>
    </div>
    <div class="ibox-content">
        <div class="alert alert-warning" role="alert">
            <p class="lead">填写说明：</p>
            <p>1、出差报销主要以一次出差一次报销为原则；</p>
            <p>2、如本次出差多个城市，可选多个城市；</p>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-3">出差城市：</label>
            <div class="col-sm-8">
                <select class="select2-city form-control" multiple="multiple" name="CityIds">
                    @foreach(var item in citys)
                    {
                        <option value="@(item.ID)" @(Model.CityIds.Any(e=>e==item.ID)?"selected=selected":"")>@(item.Name)</option>
                        if (item.Children != null)
                        {
                            item.ParentName = item.Name;
                            Html.RenderPartial("SelectCity", item as object);
                        }
                    }
                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-3">住宿/房费：</label>
            <div class="col-sm-8">
                <div class="input-group">
                    <input type="hidden" name="ID" value="@(Model==null?0:Model.ID)" />
                    <input type="text" name="Hotel" class="form-control" placeholder="住宿/房费" value="@(Model!=null?Model.Hotel:0)" />
                    <span class="input-group-addon">元</span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-3">其他内容：</label>
            <div class="col-sm-8">
                <input type="text" name="Other" class="form-control" placeholder="其他花费内容" value="@(Model!=null?Model.Other:"")" />
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-3">其他费用：</label>
            <div class="col-sm-8">
                <div class="input-group">
                    <input type="text" name="Fee" class="form-control" placeholder="其他费用" value="@(Model!=null?Model.Fee:0)" />
                    <span class="input-group-addon">元</span>
                </div>

            </div>
        </div>
    </div>
</div>